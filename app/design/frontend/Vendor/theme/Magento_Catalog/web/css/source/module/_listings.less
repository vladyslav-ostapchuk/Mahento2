//
//  Variables
//  _____________________________________________

@product-name-link__color: @text__color;
@product-name-link__color__active: @text__color;
@product-name-link__color__hover: @text__color;
@product-name-link__color__visited: @text__color;

@product-name-link__text-decoration: none;
@product-name-link__text-decoration__active: @link__hover__text-decoration;
@product-name-link__text-decoration__hover: @link__hover__text-decoration;
@product-name-link__text-decoration__visited: @link__hover__text-decoration;

@product-item__hover__background-color: @color-white;
@product-item__hover__box-shadow: 3px 4px 4px 0 rgba(0, 0, 0, .3);

@product-price__muted__color: @color-gray40;

//
//  Common
//  _____________________________________________

& when (@media-common =true) {

    // Our Products 
    .hp-our-products,
    .products.wrapper.grid.products-grid {
        .price-label {
            display: none;
        }

        .product-item-name {
            text-transform: uppercase;
        }

        .product-item-link {
            color: @color-form__grey;
            transition: ease-out 0.3s;
            .lib-font-size(14px);
            font-weight: 500;
            letter-spacing: 1px;

            &:hover {
                transition: ease-out 0.3s;
                color: @color-buttons__black;
                // color: кув;
                text-decoration: none;
            }
        }

        .price-box {
            font-family: @font-family-oswald;
            font-weight: 700;
            position: relative;
            z-index: 9;
            margin-top: 10px;
            transition: ease-out 0.3s;

            .special-price .price {
                .lib-font-size (18px);

            }
        }

        // Position and animation for menu with QuickView/WishList/Compare buttons
        .product-item-actions .actions-primary+.actions-secondary {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-prefix-flex-direction(column);
            background: rgba(255, 255, 255, 0.96);
            padding: 15px 0px;
            position: absolute;
            bottom: 0;
            left: 12rem;
            opacity: 0;
            transition: ease-out .3s;
        }

        //Icons
        .actions-secondary {
            a:hover {
                text-decoration: none;
            }

            a.action {
                line-height: 43px;
                width: 60px;
                .lib-font-size(16px);
            }
        }

        .action.towishlist::before {
            .lib-font-size(45px);
            line-height: 24px;
            color: @color-buttons__black;
        }

        // Animation for price and button section
        .product-items {
            padding: 0;

            .product-item {
                width: 300px !important;
                display: inline-block;
                margin: 0 8px 20px;

                &:hover {
                    .product-item-actions .actions-primary+.actions-secondary {
                        transition: ease-out .3s;
                        transform: translate(0, -21rem);
                        opacity: 1;
                    }

                    .price-box,
                    .price-final_price {
                        transition: ease-out 0.3s;
                        opacity: 0;
                        transform: translate(30%, 0);
                    }

                    button {
                        transform: translate(115%, 0);
                        opacity: 1;

                    }
                }
            }
        }


        // "Add to product" button
        .product-item-actions {
            .primary {
                position: relative;
                border: none;
                border-bottom: 1px solid @color-buttons__black ;
                border-radius: 0;
                text-transform: uppercase;
                .lib-font-size(14px);
                letter-spacing: 1px;
                font-weight: 600;
                color: @color-buttons__black ;
                right: 35%;
                text-align: center;
                margin: auto;
                background: 0 0;
                padding: 6px 0px 10px 0px;
                transition: ease-out .3s;
                font-family: @font-family-oswald;
                opacity: 0;

                &:hover {
                    background: 0 0;
                    color: @color-buttons__black;
                }
            }
        }

        // Styling for sale price
        .product-item-details {
            margin: 30px 0 0 0;
            position: relative;
            text-align: center;

            .product-item-inner {
                position: absolute;
                top: 30%;
            }

            .old-price {
                text-decoration: line-through;
                font-weight: 400;
                .lib-font-size(14px);
            }
        }
    }

    //img hover
    .product-item {
        .product-item-info {
            position: relative;
        }

        &:hover {
            .product-item-photo.product-hover {
                opacity: 1;
                transition: all .3s ease 0s;
                overflow: inherit;
                visibility: inherit;
            }
        }

        .product-item-photo.product-hover {
            position: absolute;
            top: 0;
            opacity: 0;
            transition: all .3s ease 0s;
            z-index: 2;
            width: 100%;
        }
    }
}

//
//  Mobile
//  _____________________________________________

.media-width(@extremum, @break) when (@extremum ='max') and (@break =@screen__s) {

    .hp-our-products {
        .product-item-actions .actions-primary+.actions-secondary {
            .lib-vendor-prefix-display(flex);
            .lib-vendor-prefix-flex-direction(column);
            background: rgba(255, 255, 255, 0.96);
            padding: 15px 10px;
            position: absolute;
            bottom: 0;
            left: 12rem;
            opacity: 0;
        }

        .actions-primary {
            opacity: 0;
        }

        .product-item-actions {
            button {
                position: relative;
                right: 0;
            }
        }

        // Animation for price and button sections
        .product-item {
            &:hover {
                .product-item-actions .actions-primary+.actions-secondary {
                    transition: ease-out 0.4s;
                    transform: translate(0, -18.5rem);
                    opacity: 1;
                    z-index: 3;
                }

                .actions-primary {
                    opacity: 1;

                    button {
                        transform: translate(167%, 0);
                    }
                }
            }
        }
    }
}

.media-width(@extremum, @break) when (@extremum ='min') and (@break =@screen__s) {
    .product-item-info {
        .products-grid & {

            &:hover,
            &.active {
                .lib-css(background, @product-item__hover__background-color);
                border: none;
                position: relative;
                z-index: 2;
                margin: 0;
                padding: 0;

                .product-item-inner {
                    display: block;
                }

                .sidebar & {
                    .product-item-photo {
                        left: 9px;
                        top: 9px;
                    }
                }
            }
        }
    }

    .block.widget .products-grid .product-item,
    .page-layout-1column .block.widget .products-grid .product-item,
    .page-layout-3columns .block.widget .products-grid .product-item {
        .product-item-inner {
            box-shadow: none;
            margin: 9px 0 0 -1px;
        }
    }

    .product-item-inner {
        .products-grid & {
            .lib-css(background, @product-item__hover__background-color);
            .lib-css(box-shadow, @product-item__hover__box-shadow);
            border: none;
            left: 0;
            margin: 0 0 0 -1px;
            padding: 0 9px 9px;
            position: absolute;
            right: -1px;
            z-index: 2;
        }
    }
}